{% extends 'student/studentbase.html' %}
{% block content %}
{% load static %}

<head>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

  <style media="screen">
    a:link {
      text-decoration: none;
    }

    h6 {
      text-align: center;
    }

    .row {
      margin: 100px;
    }

    /* Add custom styles for correct and incorrect answers */
    .correct-answer {
      color: green;
      font-weight: bold;
    }

    .incorrect-answer {
      color: red;
      font-weight: bold;
    }
  </style>
</head>

<div class="container">
  <h2>Exam Results</h2>
  <p>Course: {{ result.exam.course_name }}</p>
  <p>Student: {{ result.student.user.username }}</p>
  <p>Marks Obtained: {{ result.marks }}</p>
  <p>Exam Date: {{ result.date }}</p>

  <h3>Questions:</h3>
  <ul>
    {% for selected_answer in selected_answers %}
    <li>
      <strong>Question {{ forloop.counter }}:</strong>
      <p>{{ selected_answer.question.question }}</p>
      <p>Your Answer: 
        {% if selected_answer.is_correct %}
          <span class="correct-answer">{{ selected_answer.selected_option }}</span>
        {% else %}
          <span class="incorrect-answer">{{ selected_answer.selected_option }}</span>
        {% endif %}
      </p>
      <p>Correct Answer: <span class="correct-answer">{{ selected_answer.question.answer }}</span></p>
    </li>
    {% endfor %}
  </ul>
</div>

{% endblock content %}
